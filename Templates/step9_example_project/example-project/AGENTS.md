# PROJECT SPECIFICATION & RULES – Quantum Voice AI: QR-to-Call Lead Agent

## 1. Project Context

- **Goal:** Turn QR scans into qualified leads via a voice AI receptionist.
- **Core Value:** Never miss a call or lead; every scan becomes a conversation,
  every conversation becomes structured data and follow-up tasks.
- **Tech Stack (target):**
  - Frontend: Next.js 14 (React 18), Tailwind CSS, shadcn/ui
  - Backend: Node.js / TypeScript API layer
  - Realtime / Voice: LiveKit, Deepgram (STT/TTS)
  - AI: OpenRouter LLMs, DeepSeek / Claude / GPT-4o (via router)
  - Data: Supabase (Postgres + Auth)
  - Integrations: Asana (tasks), email provider

## 2. Strict Rules (The "No" List)

- DO NOT use `any` in TypeScript.
- DO NOT leave `console.log` in production code (use a logger).
- DO NOT hardcode API keys; use environment variables.
- DO NOT invent features that are not aligned with `project_kernel.json`.

- ALWAYS:
  - Use small, modular components (< 150 lines when possible).
  - Prefer explicit types and interfaces in TypeScript.
  - Add JSDoc or comments for non-obvious logic.
  - Align UX flows with `docs/11_mvp_spec.md` and `docs/18_user_journeys.md`.

## 3. Workflow Protocol (SDD – Spec-Driven Development)

1. **Review:** Before any new feature, read:
   - This file (`AGENTS.md`)
   - `project_kernel.json`
   - The relevant docs in `docs/` (MVP, journeys, architecture).

2. **Plan:**
   - Write or update a plan in a `PLAN.md` at the task or feature level.
   - Break work into clear steps before generating code.

3. **Execute:**
   - Implement one step at a time.
   - Use diff-based changes (git diff / tool diff views).

4. **Verify:**
   - Run tests / basic checks.
   - Confirm the behavior still matches the spec and journeys.
   - If the spec needs to change, update `AGENTS.md` and relevant docs first,
     then refactor code to match the new spec.

## 4. SDD Relationship to Docs & Kernel

- `project_kernel.json` is the **machine-friendly core** (structured facts).
- `docs/*.md` are **human and AI-friendly expansions**.
- `AGENTS.md` defines **the philosophy and constraints**.

All three together form the "constitution" for this project.

When in doubt, treat `project_kernel.json` + `AGENTS.md` as the tie-breaker.

## 5. Platform-Aware Behavior

If you are running inside:

- **Cursor:** Read `.cursorrules` from `platform/cursor/.cursorrules`
  when this project is first imported, and obey its instructions.

- **Windsurf:** Read `.windsurfrules` from `platform/windsurf/.windsurfrules`
  and load any Cascade workflows defined there.

- **Cline:** Obey `.clinerules` from `platform/cline/.clinerules`
  and maintain progress tracking.

These platform files are generated by Context Architect and may be moved
to the root folder in real projects.
